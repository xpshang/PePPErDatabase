<!DOCTYPE html>


<html lang="en-us">
<head>
    <title>Select Data Admin to view | PePPEr Admin System</title>

    <link rel="stylesheet" type="text/css" href="/static/admin/simpleui-x/elementui/theme-chalk/index.css">
    <link rel="stylesheet" type="text/css" href="/static/admin/simpleui-x/fontawesome-free-6.2.0-web/css/all.min.css">

    <link rel="stylesheet" type="text/css" href="/static/admin/css/base.css?_=2.7">
    <link rel="stylesheet" type="text/css" href="/static/admin/simpleui-x/css/base.css?_=2.7">
    <link rel="stylesheet" type="text/css" href="/static/admin/simpleui-x/theme/simpleui.css">


    <script type="text/javascript" src="/static/admin/simpleui-x/js/vue.min.js?_=2023.03.01"></script>

    <script type="text/javascript" src="/static/admin/simpleui-x/elementui/index.js?_=2023.03.01"></script>

    <script type="text/javascript" src="/static/admin/simpleui-x/js/language.js?_=2.1.2"></script>
    <script type="text/javascript" src="/static/admin/simpleui-x/locale/en-us.js?_=2.1.2"></script>
    <script type="text/javascript" src="/static/admin/simpleui-x/locale/en-us.js"></script>


    <script type="text/javascript"
            src="/static/admin/simpleui-x/elementui/umd/locale/en.js?_=2.1.2"></script>
    <script type="text/javascript">
        ELEMENT.locale(ELEMENT.lang.en)
    </script>


    <script type="text/javascript" src="/static/admin/simpleui-x/js/cookie.js"></script>


    <link rel="stylesheet" type="text/css" href="/static/admin/css/changelists.css?_=20180905"/>


    <script type="text/javascript" src="/admin/jsi18n/"></script>


    <script src="/static/admin/js/vendor/jquery/jquery.js"></script>
    <script src="/static/admin/js/jquery.init.js"></script>
    <script src="/static/admin/js/core.js"></script>
    <script src="/static/admin/js/admin/RelatedObjectLookups.js"></script>
    <script src="/static/admin/js/actions.js"></script>
    <script src="/static/admin/js/urlify.js"></script>
    <script src="/static/admin/js/prepopulate.js"></script>
    <script src="/static/admin/js/vendor/xregexp/xregexp.js"></script>


    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/static/admin/css/responsive.css?_=20180905"/>


    <meta name="robots" content="NONE,NOARCHIVE"/>

    <script type="text/javascript" src="/static/admin/js/vendor/jquery/jquery.min.js"></script>
</head>


<body class=" app-DataApp model-datamodel change-list"
      data-admin-utc-offset=" 0">


<div id="theme">
    <link v-if="theme && theme!=''" rel="stylesheet" :href="theme">


    <link v-else rel="stylesheet"
          href="/static/admin/simpleui-x/theme/admin.lte.css">

</div>
<script type="text/javascript">

    var fontConfig = new Vue({
        data: {
            fontSize: null
        },
        watch: {
            fontSize: function (newValue) {
                if (newValue != 0) {
                    var fontStyle = document.getElementById('fontStyle');
                    if (!fontStyle) {
                        fontStyle = document.createElement('style');
                        fontStyle.id = 'fontStyle';
                        fontStyle.type = 'text/css';
                        document.head.append(fontStyle);
                    }
                    fontStyle.innerHTML = '*{font-size:' + newValue + 'px!important;}'

                } else {
                    var fontStyle = document.getElementById('fontStyle');
                    if (fontStyle) {
                        fontStyle.remove();
                    }
                }
            }
        },
        created: function () {
            var val = getCookie('fontSize');
            if (val) {
                this.fontSize = parseInt(val);
            } else {
                this.fontSize = 0;
            }
        },
        methods: {}
    });


    new Vue({
        el: '#theme',
        data: {
            theme: '',
        },
        created: function () {
            this.theme = getCookie('theme');

            var self = this;
            //向父组件注册事件
            if (parent.addEvent) {
                parent.addEvent('theme', function (theme) {
                    self.theme = theme;
                });

                parent.addEvent('font', function (font) {
                    fontConfig.fontSize = font;
                });
                //
            }

        }
    })
    window.addEventListener('beforeunload', () => {
        if (window.beforeLoad) {
            window.beforeLoad();
        }
    });

</script>
<!-- Container -->
<div id="container">


    <script id="out_message" type="text/javascript">var messages = []</script>

    <script type="text/javascript">

        new Vue({
            created: function () {
                var self = this;

                messages.forEach(item => {
                    setTimeout(function () {
                        self.$notify({
                            title: getLanuage('Tips'),
                            message: item.msg,
                            type: item.tag,
                            dangerouslyUseHTMLString: true
                        });
                    }, 200);
                });

            }
        })
    </script>


    <div class="menu-content">

    </div>
    <!-- Content -->
    <div id="content" class="flex">


        <style>
            #content {
                position: relative;
            }

            .object-tools {
                position: absolute;
                top: 16px;
                right: 20px;
                height: 50px;
                z-index: 2;
            }

            .object-tools .import_link, .object-tools .export_link {
                color: white !important;
            }

        </style>

        <ul class="object-tools">


        </ul>


        <div id="content-main">


            <div class="module" id="changelist">


                <script type="text/javascript">
                    function preSubmit() {
                        $('#changelist-search').find("input[name!='']").each(function () {
                            if ($(this).val() == '') {
                                $(this).removeAttr('name');
                            }
                        });
                    }
                </script>

                <script type="text/javascript">var searchDates = {}</script>

                <!-- search_form.html -->
                <div id="toolbar">
                    <form id="changelist-search" method="get" onsubmit="preSubmit(this)" hidden>
                        <input type="hidden" name="p" value=""/>
                        <div class="simpleui-form"><!-- DIV needed for valid HTML -->


                            <el-input size="small" class="simpleui-form-item"
                                      clearable
                                      name="q"
                                      :placeholder="placeholder"
                                      prefix-icon="el-icon-search"
                                      v-model="searchInput" @keyup.enter.native="formSubmit()">
                            </el-input>

                            <input type="text" name="id" value="{{ id }}" hidden>


                            <el-button size="small" type="primary" icon="el-icon-search" @click="formSubmit()">Search
                            </el-button>


                        </div>
                    </form>
                </div>

                <script type="text/javascript">
                    window.getLanuage = function (key) {
                        if (!window.Lanuages) {
                            return "";
                        }
                        var val = Lanuages[key];
                        if (!val || val == "") {
                            val = key;
                        }
                        return val
                    }
                    Date.prototype.format = function (fmt) {
                        var o = {
                            "M+": this.getMonth() + 1,                 //月份
                            "d+": this.getDate(),                    //日
                            "h+": this.getHours(),                   //小时
                            "m+": this.getMinutes(),                 //分
                            "s+": this.getSeconds(),                 //秒
                            "q+": Math.floor((this.getMonth() + 3) / 3), //季度
                            "S": this.getMilliseconds()             //毫秒
                        };
                        if (/(y+)/.test(fmt))
                            fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
                        for (var k in o)
                            if (new RegExp("(" + k + ")").test(fmt))
                                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
                        return fmt;
                    }
                    var searchApp = new Vue({
                        el: '#toolbar',
                        data: {
                            placeholder: 'SearchPublication,Volcano,Eruption,Rock/experiment type,Chemistry,Subaerial/submarine,Eff/exp',
                            searchInput: '',

                        },
                        created: function () {
                            var self = this;
                            var date_field = [];

                            $('.form-params').each(function () {
                                var key = $(this).attr('data-name');
                                var value = $(this).val();
                                self[key] = value;
                            });
                            try {
                                date_field.forEach(key => {
                                    var start = self[key + "__gte"];
                                    var end = self[key + "__lte"];
                                    self[key] = [start, end];
                                });
                            } catch (e) {
                                console.warn('日期值回显失败，也许是django版本问题，请至github报告此问题：https://github.com/newpanjing/simpleui/issues');
                            }

                        },
                        watch: {},
                        methods: {

                            changeDate: function (d1, d2) {
                                console.log(arguments)
                            },
                            changeDatetime: function (d1, d2) {
                                console.log(arguments)
                            },
                            formSubmit: function () {
                                preSubmit();
                                document.getElementById('changelist-search').submit();
                            }
                        }
                    })

                </script>


                <form id="changelist-form" action="/reviewsubmit" method="get" novalidate><input type="hidden" name="type" id="apply_type"
                                                                           value="">
                           <form id="changelist-form" method="post" novalidate><input type="hidden" name="id" id="apply_id"
                                                                           value="{{ id }}">
                    <!--Compatible with django 3.2 x-->
                    <button style="display:none" name="index"></button>


                    <div class="actions">

                        <a class="el-page-header__left" href="/admin/DataApp/useruploadmodel/" style="float: left"><i
                                class="el-icon-back" style="color:grey"></i>
                            <div class="el-page-header__title" style="color:grey">Back</div>
                        </a>


                        <el-button size="small" type="success" data-name="apply_selected" class="stop-submit"
                                   icon="el-icon-success" @click="delSelected('{{ id }}','approved')" style="float: left">
                            Apply
                        </el-button>
                        <el-button size="small" type="danger" data-name="delete_selected" class="stop-submit"
                                   icon="el-icon-delete" @click="delSelected('{{ id }}','reject')" style="float: left">
                            Reject
                        </el-button>


                    </div>
                    <div id="layer_app">
                        <el-dialog
                                :title="title"
                                :visible.sync="visible"
                                :width="layer.width||'50%'">
                            <el-alert v-if="layer.tips" :title="layer.tips" type="success" :closable="false"></el-alert>
                            <el-form ref="form" :model="params" :label-width="layer.labelWidth||'80px'" size="small">
                                <el-form-item v-for="item in params" :label="item.label"
                                              :rules="[{ required: item.require||false, trigger: 'blur' }]">
                                    <el-select v-if="item.type=='select'" :style="{width:item.width}" :size="item.size"
                                               v-model="item.value">
                                        <el-option
                                                v-for="node in item.options"
                                                :key="node.key"
                                                :label="node.label"
                                                :value="node.key">
                                        </el-option>
                                    </el-select>

                                    <el-date-picker
                                            v-else-if="item.type=='date'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value"
                                            type="date">
                                    </el-date-picker>

                                    <el-date-picker
                                            v-else-if="item.type=='datetime'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value"
                                            type="datetime">
                                    </el-date-picker>

                                    <el-rate
                                            v-else-if="item.type=='rate'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value">
                                    </el-rate>
                                    <el-color-picker
                                            v-else-if="item.type=='color'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value">
                                    </el-color-picker>
                                    <el-slider
                                            v-else-if="item.type=='slider'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value">
                                    </el-slider>
                                    <el-switch
                                            v-else-if="item.type=='switch'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value">
                                    </el-switch>
                                    <el-input-number
                                            v-else-if="item.type=='input_number'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value">
                                    </el-input-number>

                                    <el-checkbox-group
                                            v-else-if="item.type=='checkbox'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value">

                                        <el-checkbox v-for="node in item.options" v-model="node.key" :label="node.label"
                                                     :key="node.key"></el-checkbox>

                                    </el-checkbox-group>

                                    <el-radio-group
                                            v-else-if="item.type=='radio'"
                                            :style="{width:item.width}"
                                            :size="item.size"
                                            v-model="item.value">

                                        <el-radio v-for="node in item.options" v-model="node.key" :label="node.label"
                                                  :key="node.key"></el-radio>

                                    </el-radio-group>

                                    <input v-else-if="item.type=='file'" type="file" :ref="item.key"
                                           :accept="item.accept?item.accept:'*'"/>

                                    <el-input v-else v-model="item.value" :type="item.type" :style="{width:item.width}"
                                              :size="item.size"></el-input>
                                </el-form-item>
                            </el-form>

                            <span slot="footer" class="dialog-footer">
            <el-button type="primary" @click="layerSubmit()" v-text="layer.confirm_button||'确定'"></el-button>
            <el-button @click="visible = false" v-text="layer.cancel_button||'取消'"></el-button>
        </span>
                        </el-dialog>
                    </div>
                    <script type="text/javascript" src="/static/admin/simpleui-x/automatic/dicts.js"></script>
                    <script type="text/javascript" src="/static/admin/simpleui-x/automatic/segment.js"></script>
                    <script type="text/javascript" src="/static/admin/simpleui-x/js/axios.min.js"></script>
                    <script type="text/javascript">

                        const layerApp = new Vue({
                            el: '#layer_app',
                            data: {
                                visible: false,
                                title: '弹出层',
                                params: [],
                                layer: {},
                                rules: [],
                                action: ''
                            },
                            methods: {
                                layerSubmit() {
                                    const self = this;
                                    //校验
                                    for (let key in self.params) {
                                        let item = self.params[key];
                                        if (item.require) {
                                            if (!item.value || item.value == '' || item.length == 0) {
                                                self.$message.error(`"${item.label}" Can't be empty.`)
                                                return;
                                            }
                                        }
                                    }

                                    //开始提交
                                    let data = new FormData();
                                    //方法名
                                    data.append('_action', self.action);
                                    let selecteds = [];
                                    $("#result_list .selected input[name='_selected_action']").each((index, item) => selecteds.push(item.value));
                                    data.append('_selected', selecteds.join(','));
                                    data.append('select_across', document.querySelector("input[name='select_across']").value)
                                    //获取选中的数据

                                    data.append('csrfmiddlewaretoken', document.querySelector('[name="csrfmiddlewaretoken"]').value);
                                    for (let key in self.params) {
                                        let item = self.params[key];
                                        if (item.type === "file") {
                                            data.append(item.key, self.$refs[item.key][0].files[0]);
                                        } else if (item.value) {
                                            data.append(item.key, item.value);
                                        }
                                    }

                                    axios.post('None' + window.location.search, data).then(res => {
                                        if (res.data.status === 'redirect') {
                                            self.visible = false;
                                            window.location.href = res.data.url;
                                            return;
                                        }
                                        if (res.data.status == 'success') {
                                            self.visible = false;
                                            //1.5s 后刷新
                                            setTimeout(() => window.location.reload(), 1000);
                                        }
                                        self.$message({
                                            message: res.data.msg,
                                            type: res.data.status
                                        });
                                    }).catch(err => self.$message.error(err));
                                }
                            }
                        })

                        //弹出层处理
                        function layer(data, action) {
                            layerApp.layer = data.layer;
                            layerApp.title = data.layer.title;
                            layerApp.params = data.layer.params;
                            layerApp.action = action;

                            layerApp.$nextTick(() => {
                                layerApp.visible = true;
                            });

                        }

                        function actionsCleaning(name) {
                            $("#changelist-form input[name='action']").val(name);
                            $("#changelist-form [name='_save']").removeAttr('name');
                            $("#changelist-form [name!='']").each(function () {
                                var obj = $(this);
                                if (obj.attr('name') && obj.attr('name').indexOf('form-') == 0) {
                                    obj.removeAttr('name');
                                }
                            });
                        }

                        var _action = new Vue({
                            el: '.actions',
                            data: {
                                select_across: 0,
                                file_format: 1,
                                show: true,
                                options: [{
                                    value: 0,
                                    label: 'csv'
                                }, {
                                    value: 1,
                                    label: 'xls'
                                }, {
                                    value: 2,
                                    label: 'xlsx'
                                }, {
                                    value: 3,
                                    label: 'tsv'
                                }, {
                                    value: 4,
                                    label: 'ods'
                                }, {
                                    value: 5,
                                    label: 'json'
                                }, {
                                    value: 6,
                                    label: 'yaml'
                                }, {
                                    value: 7,
                                    label: 'html'
                                }],
                                customButton: {
                                    "delete_selected": {
                                        "allowed_permissions": ["delete"],
                                        "short_description": "Delete selected %(verbose_name_plural)s",
                                        "eid": 0
                                    }
                                },
                                exts: []
                            },
                            created() {
                                if (localStorage && typeof (localStorage.searchStatus) != 'undefined') {
                                    this.show = localStorage.searchStatus == 'true';
                                }
                            },
                            watch: {
                                'show': function (newValue) {
                                    obj = document.querySelector('.xfull')
                                    if (!newValue) {
                                        //隐藏
                                        document.getElementById('toolbar').style.display = 'none';
                                        if (obj) {
                                            obj.style.display = 'none';
                                        }
                                    } else {
                                        //显示
                                        document.getElementById('toolbar').style.display = 'inherit';
                                        if (obj) {
                                            obj.style.display = 'inherit';
                                        }
                                    }
                                    if (localStorage) {
                                        localStorage['searchStatus'] = newValue;
                                    }
                                }
                            },
                            methods: {
                                searchDisplay: function () {
                                    this.show = !this.show;
                                },
                                reload: function () {
                                    window.location.reload()
                                },
                                openNewPage: function () {
                                    window.open(window.location.href)
                                },
                                getIcon: getIcon,
                                extClick: function (item) {
                                    window.location.href = item.url;
                                },
                                formSubmit: function () {
                                    $("#changelist-form").submit();
                                },

                                delSelected: function (name,type) {
                                    actionsCleaning(name);
                                    var self = this;

                                        $("#apply_type").val(type)

                                    //#67 #66 修复删除问题，改为弹出确认

                                    this.$confirm(getLanuage('Are you sure you want to submit?'))
                                        .then(_ => {
                                            self.formSubmit();
                                        }).catch(_ => {

                                    });
                                }
                            }
                        });

                        function selectAll() {
                            _action.select_across = 1;
                        }

                        function unSelect() {
                            _action.select_across = 0;
                        }


                        $(function () {
                            action_btns = $(".actions button").not('.stop-submit');
                            action_btns.click(function () {
                                var url = $(this).attr("url");
                                var eid = $(this).attr('eid');
                                var confirm = $(this).attr('confirm');
                                var checkbox_checked = $(".action-checkbox input:checked").length;
                                var data_name = $(this).attr('data-name');
                                var _vue = new Vue();

                                //这边处理弹出层对话框
                                if (eid) {
                                    for (var i in _action.customButton) {
                                        var temp = _action.customButton[i];
                                        if (temp.eid == eid && temp.layer) {
                                            layer(temp, i);
                                            return;
                                        }
                                    }
                                }

                                //TODO 需要做国际化
                                if (checkbox_checked == 0 && data_name != "add_item" && !_action.customButton[data_name].action_url) {
                                    _vue.$alert(getLanuage("Please select at least one option!"), '', {
                                        type: 'warning'
                                    })
                                } else if (confirm) {
                                    _vue.$confirm(confirm, '提示', {
                                        confirmButtonText: '确定',
                                        cancelButtonText: '取消',
                                        type: 'warning'
                                    }).then(() => done.call(this));

                                } else {
                                    done.call(this)
                                }

                                function done() {

                                    if (eid) {
                                        for (var i in _action.customButton) {
                                            var temp = _action.customButton[i];
                                            if (temp.eid == eid) {
                                                if (typeof (temp.action_type) != 'undefined') {

                                                    if (!temp.action_url) {
                                                        this.$notify({
                                                            title: 'error',
                                                            message: 'action must contain attributes:action_url! ',
                                                            type: 'error',
                                                            dangerouslyUseHTMLString: true
                                                        });
                                                        return;
                                                    }

                                                    switch (temp.action_type) {
                                                        case 0:
                                                            window.location.href = temp.action_url;
                                                            break;
                                                        case 1:
                                                            parent.window.app.openTab({
                                                                url: temp.action_url,
                                                                icon: temp.icon || 'fa fa-file',
                                                                name: temp.short_description,
                                                                breadcrumbs: []
                                                            });
                                                            break;
                                                        case 2:
                                                            window.open(temp.action_url);
                                                            break;
                                                    }
                                                    console.log('中断后续操作');
                                                    return;
                                                }
                                                //终止执行
                                                break;
                                            }
                                        }
                                    }
                                    if (url) {
                                        window.location.href = url;
                                        return;
                                    }

                                    if ($(this).attr('data-name')) {
                                        var name = $(this).attr("data-name");
                                        actionsCleaning(name);
                                    }
                                    $("#changelist-form").submit();
                                }
                            });
                        });
                    </script>


                    <div class="results">
                        <table id="result_list">
                            <thead>
                            <tr>

                                <th scope="col" class="sortable column-publication">


                                    <div class="text">
                                        <a href="?o=1">Publication</a></div>
                                    <div class="clear"></div>
                                </th>
                                <th scope="col" class="sortable column-volcano">


                                    <div class="text">
                                        <a href="?o=2">Volcano</a></div>
                                    <div class="clear"></div>
                                </th>
                                <th scope="col" class="sortable column-eruption">


                                    <div class="text">
                                        <a href="?o=3">Eruption</a></div>
                                    <div class="clear"></div>
                                </th>
                                <th scope="col" class="sortable column-rock_experiment_type">


                                    <div class="text">
                                        <a href="?o=4">Rock/experiment type</a></div>
                                    <div class="clear"></div>
                                </th>
                                <th scope="col" class="sortable column-chemistry">


                                    <div class="text">
                                        <a href="?o=5">Chemistry</a></div>
                                    <div class="clear"></div>
                                </th>
                                <th scope="col" class="sortable column-subaerial_submarine">


                                    <div class="text">
                                        <a href="?o=6">Subaerial/submarine</a></div>
                                    <div class="clear"></div>
                                </th>
                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Eff/exp</a></div>
                                    <div class="clear"></div>
                                </th>


                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Bulk SiO2 (wt. %)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Bulk Na2O+K2O (wt.%)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Glass SiO2 (wt. %)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Glass Na2O+K2O (wt.%)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Bulk porosity (%)</a></div>
                                    <div class="clear"></div>
                                </th>


                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Connected porosity (%)</a></div>
                                    <div class="clear"></div>
                                </th>


                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Connectivity</a></div>
                                    <div class="clear"></div>
                                </th>
                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Permeability (k1) (m-2)</a></div>
                                    <div class="clear"></div>
                                </th>


                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">Permeability (k2) (m-1)</a></div>
                                    <div class="clear"></div>
                                </th>


                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">vesicle number density (m-3)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">S (polydispersivity)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">total crystallinity (%)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">phenocrystallinity (%)</a></div>
                                    <div class="clear"></div>
                                </th>

                                <th scope="col" class="sortable column-eff_exp">


                                    <div class="text">
                                        <a href="?o=7">microcrystallinity (%)</a></div>
                                    <div class="clear"></div>
                                </th>
                            </tr>
                            </thead>
                            <tbody>


                            {% for row in rows %}
                                <tr class="row1">


                                    <th class="field-publication"><a
                                            href="/admin/DataApp/datamodel/6069/change/">{{ row.publication }}</a></th>

                                    <td class="field-volcano">{{ row.volcano }}</td>

                                    <td class="field-eruption">{{ row.eruption }}</td>

                                    <td class="field-rock_experiment_type">{{ row.rock_experiment_type }}</td>
                                    <td class="field-rock_experiment_type">{{ row.chemistry }}</td>

                                    <td class="field-chemistry">{{ row.subaerial_submarine }}</td>
                                    <td class="field-chemistry">{{ row.eff_exp }}</td>
                                    <td class="field-chemistry">
                                        {% if row.bulk_sio2 %}{{ row.bulk_sio2 }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.bulk_na2o %}{{ row.bulk_na2o }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.glass_sio2 %}{{ row.glass_sio2 }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.glass_na2o %}{{ row.glass_na2o }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.bulk_porosity %}{{ row.bulk_porosity }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.connected_porosity %}{{ row.connected_porosity }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.connectivity %}{{ row.connectivity }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.permeability_k1 %}{{ row.permeability_k1 }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.permeability_k2 %}{{ row.permeability_k2 }}   {% endif %}</td>
                                    <td class="field-chemistry">{% if row.vesicle_number_density %}
                                        {{ row.vesicle_number_density }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.s_polydispersivity %}{{ row.s_polydispersivity }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.total_crystallinity %}{{ row.total_crystallinity }}   {% endif %}</td>
                                    <td class="field-chemistry">
                                        {% if row.phenocrystallinity %}{{ row.phenocrystallinity }}   {% endif %}</td>
                                    <td class="field-chemistry">{% if row.microcrystallinity %}

                                        {{ row.microcrystallinity }}   {% endif %}</td>


                                </tr>

                            {% endfor %}


                            </tbody>
                        </table>
                    </div>


                </form>


                <div id="pagination">


                    <el-pagination
                            background
                            @current-change="handleCurrentChange"

                            :current-page="{{ p }}"

                            :page-size="50"
                            layout="total,prev, pager, next, jumper"
                            :total="{{ total }}">
                    </el-pagination>

                </div>
                <script type="text/javascript">
                    $(function () {
                        new Vue({
                            el: "#pagination",
                            data: {},
                            methods: {
                                handleCurrentChange: function (page) {

                                    page_go(page);

                                }
                            }
                        })

                        function page_go(p) {
                            $("#changelist-search input[name='p']").val(p);
                            $("#changelist-search").submit();
                        }

                    })
                </script>
            </div>
        </div>
        <script type="text/javascript">
            $(".object-tools").hide().find('li a').each(function () {
                _action.exts.push({
                    name: $(this).text(),
                    url: $(this).attr('href')
                })
            })
            if (parent.addEvent) {
                parent.addEvent('title', 'Data Admin')
            }
        </script>


        <br class="clear"/>
    </div>
    <!-- END Content -->


    <div id="footer"></div>

</div>
<!-- END Container -->
</body>
</html>
